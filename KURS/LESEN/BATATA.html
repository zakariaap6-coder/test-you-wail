<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BATATA - TEST B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 4px 8px rgba(33, 150, 243, 0.15);
            --shadow-hover: 0 6px 12px rgba(33, 150, 243, 0.25);
            --radius: 16px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            transition: var(--transition);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-align: left;
            direction: ltr;
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - في سطر واحد مع أزرار التحكم */
        .controls-container {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.98);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            border-bottom: 1px solid rgba(33, 150, 243, 0.1);
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dark-mode .controls-container {
            background: rgba(13, 71, 161, 0.98);
            border-bottom: 1px solid rgba(227, 242, 253, 0.1);
        }

        .theme-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            transition: var(--transition);
        }

        .theme-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-hover);
        }

        .answer-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .answer-btn {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            min-width: 180px;
            justify-content: center;
        }

        .answer-btn:hover {
            transform: translateY(-2px);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* المحتوى الرئيسي */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.1);
            margin-top: 1rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.98);
            border: 1px solid rgba(227, 242, 253, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 2.2rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* التصميم الخاص بالأسئلة */
        .section {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(33, 150, 243, 0.1);
            transition: var(--transition);
            text-align: left;
            direction: ltr;
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.1);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.5rem;
            margin-bottom: 1.2rem;
            padding-bottom: 0.6rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
            text-align: left;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .description {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            text-align: left;
        }

        .dark-mode .description {
            color: #B0BEC5;
        }

        .question {
            margin: 1.2rem 0;
            padding: 1.2rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border-left: 3px solid var(--primary);
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.08);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.6rem 0;
            padding: 0.8rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            text-align: left;
        }

        .dark-mode .option {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            animation: slideInUp 0.3s ease;
            text-align: left;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct-answer {
            background: rgba(76, 175, 80, 0.15);
            color: #2E7D32;
            border: 1px solid #4CAF50;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.25);
            color: #A5D6A7;
            border: 1px solid #81C784;
        }

        /* النصوص والعناوين */
        .text-content {
            line-height: 1.6;
            margin: 1.2rem 0;
            padding: 1.2rem;
            background: var(--white);
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            font-size: 1rem;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .dark-mode .text-content {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        /* Lesen Teil 1 - تصميم محسن */
        .headings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .heading-item {
            padding: 1rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            font-weight: 500;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .heading-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        /* Lesen Teil 3 - تصميم عرضي */
        .situations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .situation-item {
            padding: 1rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .situation-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .situation-number {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            display: block;
        }

        .dark-mode .situation-number {
            color: #90CAF9;
        }

        /* Teil 3 Ads - تصميم عرضي */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .ad-item {
            padding: 1.2rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .ad-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .ad-letter {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            display: block;
            font-size: 1.2rem;
        }

        .dark-mode .ad-letter {
            color: #90CAF9;
        }

        .ad-title {
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--text);
        }

        .dark-mode .ad-title {
            color: var(--light);
        }

        /* Sprachbausteine Teil 1 - مع الاقتراحات */
        .fill-blanks {
            margin: 1.2rem 0;
        }

        .blank-text {
            line-height: 1.8;
            margin: 1.2rem 0;
            font-size: 1.1rem;
            padding: 1.2rem;
            background: var(--white);
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .dark-mode .blank-text {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 5px;
            padding: 0.4rem 0.8rem;
            border-bottom: 2px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 6px;
            transition: var(--transition);
            position: relative;
            vertical-align: middle;
        }

        .dark-mode .blank {
            background: rgba(26, 35, 126, 0.8);
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.15);
            color: #2E7D32;
            border-color: #4CAF50;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.25);
            color: #A5D6A7;
            border-color: #81C784;
        }

        /* اقتراحات Sprachbausteine Teil 1 */
        .blank-options {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .blank-options {
            background: rgba(33, 150, 243, 0.1);
            border-color: rgba(227, 242, 253, 0.2);
        }

        .blank-option-row {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
            padding: 0.5rem;
            background: var(--white);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-option-row {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .blank-number {
            font-weight: bold;
            color: var(--primary-dark);
            min-width: 40px;
            text-align: center;
        }

        .dark-mode .blank-number {
            color: #90CAF9;
        }

        .option-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .option-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background: var(--white);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .dark-mode .option-btn {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
            color: var(--light);
        }

        .option-btn:hover {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary);
        }

        /* Sprachbausteine Teil 2 - بنك الكلمات */
        .word-bank {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.8rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .word-bank {
            background: rgba(33, 150, 243, 0.1);
            border-color: rgba(227, 242, 253, 0.2);
        }

        .bank-word {
            padding: 0.6rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            text-align: center;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .dark-mode .bank-word {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
            color: var(--light);
        }

        .bank-word:hover {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary);
        }

        .hidden {
            display: none;
        }

        /* تحسينات للهواتف */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
                margin: 0.5rem;
                margin-top: 0.5rem;
            }
            
            .controls-container {
                padding: 0.8rem 1rem;
                flex-direction: column;
                gap: 0.8rem;
            }
            
            .answer-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .answer-btn {
                min-width: 140px;
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
            
            .theme-btn {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .section {
                padding: 1rem;
                margin: 1rem 0;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .headings-grid,
            .situations-grid,
            .ads-grid {
                grid-template-columns: 1fr;
            }
            
            .blank {
                min-width: 80px;
                margin: 0 3px;
                padding: 0.3rem 0.6rem;
                font-size: 0.9rem;
            }
            
            .word-bank {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                gap: 0.6rem;
                padding: 0.8rem;
            }
            
            .option-buttons {
                gap: 0.3rem;
            }
            
            .option-btn {
                padding: 0.3rem 0.6rem;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.8rem;
                border-radius: 12px;
            }
            
            .header h1 {
                font-size: 1.4rem;
            }
            
            .page-subtitle {
                font-size: 0.95rem;
            }
            
            .section {
                padding: 0.8rem;
            }
            
            .question {
                padding: 1rem;
            }
            
            .blank-text {
                padding: 1rem;
                font-size: 1rem;
                line-height: 1.6;
            }
            
            .answer-btn {
                min-width: 120px;
                padding: 0.5rem 0.8rem;
                font-size: 0.85rem;
            }
        }

        /* تحسينات للأجهزة اللوحية */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                padding: 1.5rem;
            }
            
            .headings-grid,
            .situations-grid,
            .ads-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* تحسينات للأجهزة الكبيرة */
        @media (min-width: 1200px) {
            .container {
                padding: 2rem;
            }
        }

        /* تحسين قابلية القراءة للنصوص الطويلة */
        .long-text {
            line-height: 1.7;
            text-align: justify;
            hyphens: auto;
        }

        /* إزالة العناصر غير الضرورية لتحسين الأداء */
        .floating-elements,
        .premium-badge-header {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header Controls - في سطر واحد -->
    <div class="controls-container">
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">Show Answers</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">Hide Answers</span>
            </button>
        </div>
        
        <button class="theme-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">BATATA - TEST B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">Reading Comprehension - Part 1, 2 and 3</p>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Reading Part 1</h2>
            <p class="description" id="teil1Description">First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- العناوين سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div id="textsList">
                <!-- النصوص سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Reading Part 2</h2>
            <div class="text-content long-text" id="longText">
                <!-- النص الطويل سيتم إضافته بالجافاسكريبت -->
            </div>

            <div id="questionsList">
                <!-- الأسئلة سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 3 - تصميم عرضي محسن -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Reading Part 3</h2>
            <p class="description" id="teil3Description">First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- الوضعيات سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- الإعلانات سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Language Elements Part 1</h2>
            <div class="fill-blanks">
                <div class="blank-options" id="blankOptions1">
                    <!-- اقتراحات لكل فراغ -->
                </div>
                <div class="blank-text" id="blankText1">
                    <!-- النص بالفراغات -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Language Elements Part 2</h2>
            <div class="fill-blanks">
                <div class="word-bank" id="wordBank2">
                    <!-- بنك الكلمات -->
                </div>
                <div class="blank-text" id="blankText2">
                    <!-- النص بالفراغات -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // بيانات الأسئلة والإجابات - تم تحديثها من BATATA.html
        const examData = {
            headings: [
                {id: "a", text: "Das ideale Gemüse für schwer Arbeitende"},
                {id: "b", text: "Ein schlankes Gemüse für schlanke Leute"},
                {id: "c", text: "Gesundes Leben schützt vor Zivilisationskrankheiten"},
                {id: "d", text: "Gesundheitsrisiken durch fettreiche Ernährung"},
                {id: "e", text: "Kartoffelrezepte als Zeitungsbeilage"},
                {id: "f", text: "Pflanzliche Kosmetik für gesunde Haut"},
                {id: "g", text: "Tolle Figur durch ausgewogene Ernährung"},
                {id: "h", text: "Von der Wildpflanze zum international geschätzten Nahrungsmittel"},
                {id: "i", text: "WHO untersucht Zusammenhang von Krebs und Herzinfarkt"}
            ],
            
            texts: [
                {
                    id: "text1",
                    content: `Über zehntausend wissenschaftliche Studien wurden in den vergangenen Jahren im Auftrag der Weltgesundheitsorganisation WHO durchgeführt, um herauszubekommen, warum manche Menschen erheblich seltener an lebensgefährlichen Krankheiten wie Krebs oder Herzinfarkt erkranken als andere. Die Zahl dieser Erkrankungen hat nämlich in den Industriestaaten inzwischen einen traurigen Höhepunkt erreicht. Die Forscher fanden heraus, dass mit wenigen Tricks viele Menschen gesünder leben und damit ihr Leben verlängern könnten. Das Risiko eines Herzinfarkts kann man zum Beispiel durch den täglichen Verzehr eines Apfels und tägliches zwanzigminütiges Radfahren erheblich reduzieren. Die Entstehung von Krebs herumt zum Beispiel der tägliche Genuss eines Löffels reinen Olivenöls oder eine große Tasse grünen Tees. Gegen Stress hilft Vitamin-C-reiche Ernährung und regelmäßiges Schwimmen.`,
                    correctAnswer: "c",
                    correctAnswerText: "c) Gesundes Leben schützt vor Zivilisationskrankheiten"
                },
                {
                    id: "text2",
                    content: `Am Mittelmeer und in Mexico wächst die Aloe-Vera-Pflanze, der in der heutigen Naturmedizin eine wachsende Rolle zukommt. Durch die dickfleischigen Blätter dieser Pflanze ist für Schädlinge kein Hindurchkommen, deshalb kann sie in Plantagen ohne chemische Schutzmittel angebaut werden. Unter der dicken Haut der Pflanze befindet sich eine gelartige Flüssigkeit, deren Aufgabe darin besteht, Wasser möglichst lange zu speichern - schließlich ist die Pflanze in extrem trockenen Landschaftsstätten beheimatet. Dieses Gel ist sehr vitamin- und mineralstoffreich. In der Wundheilung ist Aloegel sehr effektiv. Kosmetisch wird es für Cremes benutzt, die Hauterkrankungen und leichte Verbrennungen wie zum Beispiel Sonnenbrand lindern, Feuchtigkeit spenden und die Haut straffen.`,
                    correctAnswer: "f",
                    correctAnswerText: "f) Pflanzliche Kosmetik für gesunde Haut"
                },
                {
                    id: "text3",
                    content: `Eine der ältesten bekannten Gemüsesorten ist der Spargel. Schon vor 5000 Jahren war er bei den Chinesen bekannt. Geschätzt wurde er vor allem in der Medizin als Herzschutzmittel und zur Stärkung der körpereigenen Abwehrkräfte: Spargel hält gesund. Heute schätzen wir am Spargel besonders, dass er nicht dick macht. Die körperlich hart arbeitende Bevölkerung früherer Zeiten schätzte ihn deshalb nicht sehr, weil er kaum Energie lieferte. Im Südwesten Deutschlands wächst der Spargel von Mitte April bis zum Johannistag, dem 24. Juni. Besonders rund um Mainz, Darmstadt, Heidelberg, Bruchsal und in der Pfalz erntet man das stangenförmige Gemüse. In Deutschland ist allerdings der weiße Spargel, der unter der Erde wächst, populärer als sein oberirdisch wachsender Bruder, der grüne Spargel.`,
                    correctAnswer: "b",
                    correctAnswerText: "b) Ein schlankes Gemüse für schlanke Leute"
                },
                {
                    id: "text4",
                    content: `Schlank sein ist 'in'. Deshalb versuchen Millionen Menschen nicht nur in Deutschland immer wieder ihre Pfunde loszuwerden. Und so purzeln sie von einer Diät zur nächsten, immer mit dem gleichen Erfolg: Nach dem Abnehmen nehmen sie genauso schnell wieder zu. Und bei vielen kommt mit dem Gewichtsverlust die Krankheit, denn die meisten Diäten sind sehr einseitig und entziehen dem Körper viele für sein Wohlbefinden wichtige Nährstoffe. Hier setzt eine neue Theorie an: Sie unterscheidet Nahrungsmittel in Fetthorter, die Fett im Körper speichern, und Fettburner, die dem Körper helfen, zu viel Fett und damit Kilos zu verwerten. Frisches Gemüse, Obst, Fisch und Geflügel versorgen den Körper mit Energie und helfen ihm dabei, die Nahrungsstoffe optimal zu verwerten. Iss dich schlank, lautet das Motto der Fatburnertheorie. Aber ist es nur eine neue Theorie oder hilft sie uns wirklich schlank zu werden?`,
                    correctAnswer: "g",
                    correctAnswerText: "g) Tolle Figur durch ausgewogene Ernährung"
                },
                {
                    id: "text5",
                    content: `Als typisch deutsch gilt sie, doch rund um den Globus ist sie eines der Basislebensmittel schlechthin. In Österreich nennt man sie Erdapfel, an der Mosel heißt sie Grumbeere. Gemeint ist die überaus populäre Kartoffel. Hunderte verschiedener Sorten gibt es auf der Welt, doch ihr Ursprung liegt in Südamerika. Präkolumbianische Kulturen begannen damit, die bis dahin wild wachsende Urform der Kartoffel systematisch anzubauen. Die englischen Seehelden Sir Francis Drake und Sir Walter Raleigh sollen sie im 16. Jahrhundert nach Europa mitgebracht haben. Etwa zur gleichen Zeit wurde sie in Spanien und Portugal bekannt. Dennoch ist das Klischee von der 'deutschen' Kartoffel nicht ganz falsch, denn zu vielen traditionellen Gerichten wird die Knolle gekocht oder in der Form von Bratkartoffeln, Kartoffelknödeln oder Pommes frites als Beilage gereicht.`,
                    correctAnswer: "h",
                    correctAnswerText: "h) Von der Wildpflanze zum international geschätzten Nahrungsmittel"
                }
            ],

            longText: {
                content: `Vor 50 Jahren gab es in der Hansestadt Bremen ungefähr 300 traditionelle Kaffeeröstereien. Diese importierten die Kaffeebohnen selbst, stellten den Kaffee tagefrisch her und verkauften ihn im eigenen Geschäft. Heute, da der Kaffee zumeist von internationalen Kaffeegesellschaften produziert und in Supermärkten verkauft wird, sind in Deutschland nur noch eine Handvoll Kleinröstereien übrig geblieben. Eine davon ist die Kaffeerösterei Münchhausen.

Münchhausen importiert seinen Kaffee direkt von Kleinbauern in Lateinamerika. Dabei wird streng auf fairen Handel geachtet, das heißt, die Kaffeebauern werden für ihre anstrengende Arbeit angemessen entlohnt. Damit unterstützt der Importeur zugleich den Kaffeeanbau nach ökologischen Gesichtspunkten. Kaffee aus Großplantagen, oft mit Pestiziden und Insektiziden belastet, ist zwar billiger, aber Qualität und Reinheit des Kaffees werden bei der Kaffeerösterei Münchhausen ganz großgeschrieben.

Der Kaffee wird nach alter Familientradition hergestellt. Die Rezeptur ist die gleiche wir vor einem halben Jahrhundert: Täglich werden die Kaffeebohnen in kleinen Mengen frisch geröstet, gerade so viele, wie an einem Tag verkauft werden. Denn nur so behalten sie ihr Aroma und der Kaffee verliert nicht an Geschmack.

Zuerst werden die Kaffeebohnen in der in den 50er Jahren angeschafften Rösttrommel ungefähr zehn Minuten lang bei Temperaturen von über 200 Grad Celsius geröstet. Dabei verlieren die Kaffeebohnen zwar ein Sechsteil ihres Gewichts, ihr Volumen vergrößert sich aber gleichzeitig um etwa ein Drittel. Sind die Bohnen dunkel genug – sie dürfen genauso wenig zu dunkel sein –, werden sie auf den Verlesetisch geschüttet, wo von Hand die guten von den schlechten Kaffeebohnen getrennt werden.

Danach erst werden aus den gerösteten Kaffeebohnen verschiedene Mischungen hergestellt, die dann im Kontor, dem Geschäftsraum der Rösterei, fast ausschließlich an langjährige Stammkunden verkauft werden. Aber auch über das Internet vertreibt die Kaffeerösterei Münchhausen ihr Kaffeeangebot deutschlandweit.

Bis zu seinem Tod kurz vor seinem dreiundneunzigsten Geburtstag führte August Münchhausen seinen Familienbetrieb, dann übernahm seine Tochter die Firma, inzwischen ist auch die Enkelin beteiligt. Die Frauen planen, aus der Kaffeerösterei ein Museum zu machen, um der Nachwelt die traditionelle Kunst des Kaffeeröstens zeigen zu können.

Dann hätte diese Institution eine reelle Chance, in Zukunft fortzubestehen und zukünftigen Generationen den Charme und die Technik der traditionellen Kaffeeherstellung zu erhalten. Selbstverständlich wird es auch in Zukunft möglich sein, im Museums-Bistro den Kaffee zu genießen oder für den häuslichen Bedarf zu erwerben.`,
                questions: [
                    {
                        id: "q1",
                        question: "In Deutschland",
                        options: [
                            "existiert eine Vielzahl von Kaffeeröstereien",
                            "gibt es nur noch wenige traditionelle Kaffeeröstereien",
                            "handeln nur noch internationale Gesellschaften mit Kaffee"
                        ],
                        correctAnswer: "gibt es nur noch wenige traditionelle Kaffeeröstereien"
                    },
                    {
                        id: "q2",
                        question: "Für die Kaffeerösterei Münchhausen",
                        options: [
                            "ist es nicht von Bedeutung, ob der Kaffee von Kleinbauern oder Großplantagen kommt",
                            "spielt der günstige Einkaufspreis eine wichtige Rolle",
                            "steht aber die Qualität des Kaffees als der Preis im Vordergrund"
                        ],
                        correctAnswer: "steht aber die Qualität des Kaffees als der Preis im Vordergrund"
                    },
                    {
                        id: "q3",
                        question: "Kaffeebohnen",
                        options: [
                            "dürfen nach dem Rösten zwar zu dunklen sein, aber nicht zu hell",
                            "können nach der Röstung ohne Geschmacksverlust lange Zeit gelagert werden",
                            "müssen nach dem Rösten handverlesen werden, um eine gleichbleibend hohe Qualität zu gewährleisten"
                        ],
                        correctAnswer: "müssen nach dem Rösten handverlesen werden, um eine gleichbleibend hohe Qualität zu gewährleisten"
                    },
                    {
                        id: "q4",
                        question: "Die gerösteten Kaffeebohnen werden",
                        options: [
                            "im Kontor nur an Stammkunden angegeben",
                            "in Handarbeit gemischt",
                            "zusätzlich online vermarktet"
                        ],
                        correctAnswer: "zusätzlich online vermarktet"
                    },
                    {
                        id: "q5",
                        question: "In Zukunft wollen die Besitzer",
                        options: [
                            "die Kaffeerösterei in ein Museum umwandeln",
                            "ein Museum über den Kaffeeanbau eröffnen",
                            "keinen Röstkaffee mehr verkaufen"
                        ],
                        correctAnswer: "die Kaffeerösterei in ein Museum umwandeln"
                    }
                ]
            },

            // Lesen Teil 3 - البيانات المحدثة من BATATA.html
            situations: [
                {
                    id: "11",
                    text: "Ein Bekannter möchte miterleben, wie spektakuläre Filmszenen gedreht werden.",
                    correctAnswer: "G"
                },
                {
                    id: "12",
                    text: "Eine Bekannte interessiert sich für CDs mit klassischer Musik.",
                    correctAnswer: "X"
                },
                {
                    id: "13",
                    text: "Eine Bekannte möchte eine mehrtägige Fußwanderung machen und dabei etwas über die kulturelle Vergangenheit der Region erfahren.",
                    correctAnswer: "D"
                },
                {
                    id: "14",
                    text: "Eine Bekannte möchte sich in einem Kurort von der Hektik des Alltags erholen.",
                    correctAnswer: "L"
                },
                {
                    id: "15",
                    text: "Ein Bekannter möchte im Urlaub auf einem See Boot fahren.",
                    correctAnswer: "C"
                },
                {
                    id: "16",
                    text: "Eine Familie möchte mit ihren Kindern einen aktiven und lustigen Tag verbringen.",
                    correctAnswer: "I"
                },
                {
                    id: "17",
                    text: "Ein Bekannter hat ein neue Kniegelenk bekommen und sucht eine geeignete Kur.",
                    correctAnswer: "J"
                },
                {
                    id: "18",
                    text: "Eine Bekannte ist Hobbyzoologin und interessiert sich für den Lebensraum Küste",
                    correctAnswer: "F"
                },
                {
                    id: "19",
                    text: "Ein Bekannter liebt die Bergwelt, kann aber keine steilen und anstrengenden Wege mehr gehen.",
                    correctAnswer: "A"
                },
                {
                    id: "20",
                    text: "Eine Bekannte möchte Geschichten über Ritter und Burgen lesen.",
                    correctAnswer: "X"
                }
            ],

            ads: [
                {
                    id: "A",
                    title: "Urlaubsregion Allgäuer Alpen",
                    content: "Die Urlaubsregion Allgäuer Alpen ist mit eine der schönsten Deutschlands. Mit Bussen und Bahnen gelangt man zu Burgen, Schlössern, Kirchen und Klöstern. Das kulinarische Angebot bietet für jeden Geschmack genügend Auswahl. Bergwanderer schätzen - vor allem im Spätsommer - Hüttenwanderungen auf den gut ausgebauten Höhenwegen. Bergbahnen und Sessellifte nehmen viel von der Mühe des Aufstiegs ab. Auch für die Wassersportler ist ausreichend gesorgt."
                },
                {
                    id: "B",
                    title: "Ritter und Burgfräulein für ein Wochenende",
                    content: "Seit vielen Jahrhunderten gibt es in Deutschland Burgen. Hoch über mittelalterlichen Städten und oft in romantischer Landschaft ragen sie als touristische Attraktionen empor. Für Geschichtsinteressierte inszeniert man im alten Gemäuer bunte Feste, die das Mittelalter originaltreu zum Leben erwecken. Hier erleben Sie Ritterturniere, Minnesang und zünftige Gelage. Beliebt sind auch Bauernmärkte mit traditionsreicher Handwerkskunst, Maskentreiben und Volkstheater, deren Stücke an die Sagen und Märchen anknüpfen, die sich um jede Burg ranken. Anmeldung unter info@mittelalter.com"
                },
                {
                    id: "C",
                    title: "Ferien im Harz",
                    content: "Der Harz erhebt sich inselartig über der Norddeutschen Tiefebene und verbindet die Länder Sachsen-Anhalt, Niedersachsen und Thüringen. Er ist zugleich das höchste Mittelgebirge nördlich des Mains, im Brockenmassiv auf 1.142 Meter ansteigend. Der Romkerhaller Wasserfall, der aus großer Höhe in die Tiefe stürzt, ist im Obertal neben der Obertalsperre ein beliebtes Fotomotiv. Fast jede Form von Wassersport ist hier möglich – Surfen, Paddeln, Rudern etc"
                },
                {
                    id: "D",
                    title: "Auf den Spuren des römischen Dichters Ausonius",
                    content: "Von Bingen am Rhein bis nach Trier an der Mosel führt dieser nach dem römischen Dichter Ausonius benannte Wanderweg. Auf der ehemaligen römischen Heerstraße geht es stets über die Höhenrücken des Hunsrück. Durch Wälder und vorbei an Hunsrücker Dörfern ist die römische Vergangenheit an der Strecke und in Museen allgegenwärtig. Der 110 Kilometer lange Weg, den auch Ausonius bereiste, führt über die Höhen und durchschneidet die Bachtäler in stetem Auf und Ab, um dann ab Neumagen die Mosel bis nach Trier zu begleiten."
                },
                {
                    id: "E",
                    title: "Extra für Musicalfans",
                    content: "MAMMA MIA! ist eine mitreißende Musical-Komödie mit den 22 größten Hits von ABBA – und keine langweilige Biografie. Alle Songs werden auf Deutsch gesungen, so ist ein schwungvoller und unterhaltsamer Abend garantiert. Die mitreißende Musical-Komödie von Benny Andersson und Björn Ulvaeus hat weltweit schon über 24 Millionen Zuschauer begeistert. MAMMA MIA! – ein grandioses Stück über Liebe, Familie und Freundschaft. Vorstellungen jeder Abend um 18 und 20.30 Uhr. Hamburg Operettenhaus Hamburg Spielbudenplatz 1 D-20369 Hamburg"
                },
                {
                    id: "F",
                    title: "Es gibt eine Steigerung zum normalen Strandspaziergang: die Wattwanderung.",
                    content: "An der Nordsee finden Sie die größte zusammenhängende Wattlandschaft der Welt. Hier gibt es viel zu entdecken: gleich drei Nationalparks im Wattenmeer mit faszinierenden Landschaften und Tausenden von Tierarten. Ein Höhepunkt sind bestimmt die Seehunde im Nationalpark Hamburgisches Wattenmeer. Eine weitere Spezialität für fortgeschrittene Wattfans sind die Halligen, kleine Reste ehemals großer Marschinseln, die während der winterlichen Sturmfluten mehrmals landunter gehen."
                },
                {
                    id: "G",
                    title: "Aktion, Kamera läuft!",
                    content: "Und Action! Besucher des Movie Park Deutschland sollten sich nicht wundern, wenn sie sich plötzlich an einem Set befinden und den Anweisungen des Regisseurs folgen oder spektakulare Stunts hautnah erleben. In Bottrop, mitten im Ruhrgebiet, dreht sich alles um Filme mit viel Action und Spannung. Gehen auch Sie den Geheimnissen des Bermuda-Dreiecks auf den Grund, wagen Sie selbst eine aufregende Verfolgung im Flugsimulator oder testen Sie Ihre Nerven auf einer der größten Achterbahnen Deutschlands! Aus Sicherheitsgründen Zutritt nur für Erwachsene."
                },
                {
                    id: "H",
                    title: "Wiesbaden – Internationaler Treffpunkt Gesundheit",
                    content: "Das Mineralheilbad Wiesbaden liegt in einer milden, gemäßigten Klimazone. Bereits 1836 wurde hier die erste Orthopädische Heilanstalt eröffnet. Die Kurstadt mit ihrem historischen Charme ist unter anderem für ihre natriumchloridhaltigen Thermalquellen berühmt, die für vielfältige Kuren genutzt werden. In erster Linie werden sie bei rheumatischen Erkrankungen und Katarrhen der Atmungsorgane, aber auch bei Erkrankungen des Nervensystems und psychosomatischen Leiden eingesetzt."
                },
                {
                    id: "I",
                    title: "Spiel und Spaß am Bodensee",
                    content: "Auf die Plätze – die kleinen grauen Zellen anknipsen – und los geht's auf eine Erlebnisreise durch das Ravensburger Spieleland. In dem Freizeitpark am Bodensee spielt die ganze Familie mit Pumuckl beim Fensterherstellungsspiel um die Wette. Rasen mit dem Fix & Foxi-Raketenblitz und sagen Ahoi Blaubär Guten Tag. Bekannte Ravensburger Brettspiele wie das Verrückte Labyrinth sind riesengroß. Und wo sonst kann man Memory-Kärtchen vom Hubschrauber aus bedienen? Das geht nur im Freizeitpark Ravensburger Spieleland. Mitten in der schönsten Natur und ganz in der Nähe des Bodensees warten 50 Attraktionen auf 25 Hektar darauf, entdeckt zu werden."
                },
                {
                    id: "J",
                    title: "Bad Elster – heilendes Wasser aus sprudelnden Quellen",
                    content: "In Bad Elster sprudeln gleich drei Trinkquellen unterschiedlicher Zusammensetzung und Heilwirkung. Das Herzstück einer Trink- und Badekur sind die Moritz- und die Marienquelle, die sich in der Nähe des Badehauses befinden. Bereits 1858 wurde den Quellen eine heilende Kraft bestätigt. Mineral- und Sprudelbäder beugen Herz- und Kreislauferkrankungen vor. Natriumchloridbäder und Packungen helfen gegen Rheuma, Arthritis, bei Frauenleiden, dem Ausheilen von Sport- und Unfallverletzungen sowie bei der operativen Nachsorge und Reha-Maßnahmen. Und Trinkkuren unterstützen die Heilung bei Stoffwechsel-, Nieren- und Harnwegserkrankungen."
                },
                {
                    id: "K",
                    title: "Ein besonderer Weihnachtsmarkt",
                    content: "Willkommen auf dem Striezelmarkt, dem ältesten Weihnachtsmarkt Deutschlands. Gegründet 1434, verdankt er seinen Namen dem Hefestriezel, längst berühmt als Original Dresdner Christstollen. Alljährlich ist ihm zum Stollenfest, am Samstag vor dem 2. Advent, ein riesiger Festumzug gewidmet. Bestaunen Sie im Mittelpunkt des Marktes die mit 14 Metern höchste Weihnachtspyramide der Welt. Traditionelle Handwerksarbeiten vom Feinsten aus Dresden und Umgebung wie Pyramiden, Räuchermänner, Schwibbögen, Töpferwaren und Herrnhuter Adventssterne werden auch Sie verzaubern."
                },
                {
                    id: "L",
                    title: "Bad Homburg – in einzigartiger Badekultur entspannen wie Könige",
                    content: "In Bad Homburg steht das heilsame und wohltuende Thermalwasser von höchster Qualität als heilendes Element im Vordergrund. Es enthält für den Körper wichtige Mineralstoffe. Gleich sechs kalte, kohlensäurehaltige Kochsalzquellen, ein Solenebelbad und zwei Galliaquellen werden für Trinkkuren und Mineralbäder genutzt. Man findet aktive Entspannung mit Gesundheits-, Fitness- und Sportprogramm. Individuelle Therapien und Verfahren helfen bei Bewältigung von Stressproblemen. Moderne medizinische und therapeutische Erkenntnisse haben das Kurangebot Bad Homburgs in den letzten hundert Jahren wesentlich beeinflusst."
                }
            ],

            // Sprachbausteine Teil 1 - من BATATA.html
            blankText1: {
                content: `Liebe Corinna,

es tut mir wirklich Leid, ________ ich dir seit Ewigkeiten nicht mehr geschrieben habe. Aber du weißt ja: Ich habe seit drei Monaten eine neue Arbeit. Und da hatte ich gar keine Zeit, mich mit etwas Anderem zu ________ als mit der neuen Arbeit.

Es hat mich wirklich überrascht, wie schnell ich nach dem Abschluss meiner Ausbildung etwas gefunden habe. Dabei haben alle immer nur gesagt: "Gärtner? Die gibt es ________ wie Sand am Meer, wie willst du da so schnell einen Job finden?".

Ich arbeite jetzt in einer Baumschule. Wir kultivieren und verkaufen Obstbäume, ________ an die Obstbauern der näheren Umgebung. Die Arbeit macht mir großen Spaß, es ist andererseits aber ein bisschen anstrengend, acht Stunden am Tag körperlich ________ im Freien - zu arbeiten. Und leider muss ich ________ eine dreiviertel Stunde mit dem Zug fahren, um an meinen Arbeitsplatz zu kommen.

Wenn ich dann am Abend nach Hause komme, bin ich so müde, dass ich eigentlich nur noch fernsehen oder Musik hören kann. Ich habe im Moment nur ________ Lust, etwas zu unternehmen, aber ich bin mir sicher: Sie ________ wieder.

Wie geht es dir denn? Du müsstest doch jetzt auch bald mit deiner Ausbildung fertig sein, oder? Hast du schon damit angefangen, dich bei verschiedenen Arbeitgebern zu bewerben? Oder ________ du dir noch ein bisschen Zeit damit? Ich würde dir in jedem Fall raten: Fang so früh wie ________ mit den Bewerbungen an, je früher, desto besser. Du weißt ja, was unser Klassenlehrer in der Realschule immer gesagt hat: Gut Ding will Weile haben.

So, jetzt muss ich aufhören und ins Bett gehen, damit ich morgen wieder fit bin. Mach's gut, bis bald,

dein

Richard`,
                options: [
                    ["dass", "ob", "weil"],          // 21
                    ["bedienen", "beeilen", "beschäftigen"], // 22
                    ["bloß", "doch", "nur"],         // 23
                    ["außerdem", "insbesondere", "jedoch"], // 24
                    ["übermächtig", "übermäßig", "überwiegend"], // 25
                    ["fast", "nahe", "ziemlich"],     // 26
                    ["gering", "knapp", "wenig"],     // 27
                    ["kommt", "läuft", "steht"],      // 28
                    ["brauchst", "hast", "willst"],   // 29
                    ["kürzlich", "möglich", "üblich"] // 30
                ],
                answers: ["dass", "beschäftigen", "doch", "insbesondere", "überwiegend", "fast", "wenig", "kommt", "willst", "möglich"]
            },

            // Sprachbausteine Teil 2 - من BATATA.html
            blankText2: {
                content: `Schwarzarbeit kann teuer werden

Schnäppchen machen, um Rabatte feilschen: Wer billig einkauft, gilt als clever. Vorsicht ist jedoch bei Aufträgen an Schwarzarbeiter geboten. Denn schnell zahlt der Kunde drauf, ________ wie durch das illegale Arbeitsverhältnis erhofft - Geld zu sparen. Rund ums Haus ist nicht ________ Gelegenheit so günstig, wie sie anfangs scheint:

Schwarzarbeit etwa ist nicht nur verboten, sondern es gibt auch ein finanzielles Argument ________ illegale Arbeiter: Oftmals rechnet sich der Dienst gegen Barzahlung gar nicht. "Abgesehen ________, dass es strafbar ist, Schwarzarbeiter zu beschäftigen, nimmt der Auftraggeber handfeste steuerliche Nachteile in Kauf", warnt Dirk Witte, Steuerberater aus Wildeshausen in Niedersachsen. Wer eine Putzhilfe beschäftigt, kann die Steuerlast auch auf legalem Weg spürbar senken.

Auch für die Modernisierung, Renovierung und Sanierung der Wohnung gibt es einen Steuernachlass, allerdings nur für legale Arbeiten. "Das Finanzamt ________ eine ordentliche Rechnung und einen Überweisungsbeleg sehen". Barzahler können daher nichts von der Steuer absetzen. Noch schwerer fällt ins Gewicht, dass ein Kunde seine Haftungsansprüche aufs Spiel setzt, wenn er vordergründig ein paar Euro sparen möchte. Denn mängelfreie Bauten ________ eher die Ausnahme.

Und ob ein Kunde die Beseitigung von Mängeln gerichtlich gegen einen Schwarzarbeiter durchsetzen kann, ist von Fall zu Fall zu prüfen. Im Prinzip muss man aber damit rechnen, die Ansprüche zu verlieren. Ebenso dürften Verbraucher leer ________, wenn beim Bauen etwas zu Bruch geht. Ein orderntlicher Handwerker hat für ________ Fälle eine Haftpflichtversicherung.

Richtig teuer werden können auch Unfälle, bei denen sich der illegale Helfer verletzt. Dann zahlen weder Krankenversicherung noch Unfallkasse. Fälit etwa ein Arbeiter vom Gerüst und ist danach dauerhaft querschnittsgelähmt, dann wird der Kunde dafür sein Leben lang zahlen.

Die Folgen von Schwarzarbeit lassen sich mit dem Dominoprinzip beschreiben: Fliegt die illegale Beschäftigung auf, dann ________ es gleich mehrere Behörden mit. Post gibt es dann vom Finanzamt, der Staatsanwaltschaft und den Sozialversicherungsträgern. Dann braucht der Auftraggeber ________ einen Anwalt. Und der kostet natürlich auch wieder Geld.`,
                options: ["ALLES", "ANSTATT", "AUSGEHEN", "BEKOMMEN", "BILDEN", "DAGEGEN", "DAVON", "GEGEN", "HÖCHSTENS", "JEDE", "MEISTENS", "SOLCHE", "UM", "WILL", "WÜNSCHT"],
                answers: ["ANSTATT", "JEDE", "GEGEN", "DAVON", "WILL", "BILDEN", "AUSGEHEN", "SOLCHE", "BEKOMMEN", "MEISTENS"]
            }
        };

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
        });

        let isDarkMode = false;

        function initializePage() {
            // تحميل الإعدادات المحفوظة
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            
            if (savedDarkMode) {
                toggleDarkMode();
            }
            
            // تهيئة الأجزاء
            initializeTeil1();
            initializeTeil2();  
            initializeTeil3();
            initializeSprachbausteine();
        }

        function initializeTeil1() {
            const headingsList = document.getElementById('headingsList');
            const textsList = document.getElementById('textsList');

            headingsList.innerHTML = '';
            textsList.innerHTML = '';

            // إضافة العناوين
            examData.headings.forEach((heading) => {
                const headingItem = document.createElement('div');
                headingItem.className = 'heading-item';
                headingItem.innerHTML = `
                    <strong>${heading.id})</strong> ${heading.text}
                `;
                headingItem.dataset.letter = heading.id;
                headingsList.appendChild(headingItem);
            });

            // إضافة النصوص
            examData.texts.forEach((text, index) => {
                const textItem = document.createElement('div');
                textItem.className = 'question';
                textItem.innerHTML = `
                    <h3>Text ${String.fromCharCode(97 + index).toUpperCase()}</h3>
                    <div class="text-content">${text.content}</div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer:</strong> ${text.correctAnswerText}
                    </div>
                `;
                textsList.appendChild(textItem);
            });
        }

        function initializeTeil2() {
            const longText = document.getElementById('longText');
            const questionsList = document.getElementById('questionsList');

            longText.innerHTML = `<div class="text-content long-text">${examData.longText.content}</div>`;

            questionsList.innerHTML = '';
            examData.longText.questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question';
                questionItem.innerHTML = `
                    <h3>Question ${index + 6}</h3>
                    <p><strong>${question.question}</strong></p>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option" data-index="${optIndex}">
                                ${String.fromCharCode(97 + optIndex)}) ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer:</strong> ${question.correctAnswer}
                    </div>
                `;
                questionsList.appendChild(questionItem);
            });
        }

        function initializeTeil3() {
            const situationsList = document.getElementById('situationsList');
            const adsList = document.getElementById('adsList');

            situationsList.innerHTML = '';
            examData.situations.forEach((situation) => {
                const situationItem = document.createElement('div');
                situationItem.className = 'situation-item';
                situationItem.innerHTML = `
                    <span class="situation-number">${situation.id})</span>
                    ${situation.text}
                `;
                situationsList.appendChild(situationItem);
            });

            adsList.innerHTML = '';
            examData.ads.forEach(ad => {
                const adItem = document.createElement('div');
                adItem.className = 'ad-item';
                adItem.innerHTML = `
                    <span class="ad-letter">${ad.id})</span>
                    <div class="ad-title">${ad.title}</div>
                    <div class="text-content">${ad.content}</div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer for:</strong> ${getSituationsForAd(ad.id)}
                    </div>
                `;
                adsList.appendChild(adItem);
            });
        }

        function getSituationsForAd(adId) {
            const situations = examData.situations
                .filter(s => s.correctAnswer === adId)
                .map(s => s.id);
            
            if (situations.length === 0) {
                return "No matching situation";
            }
            return situations.join(", ");
        }

        function initializeSprachbausteine() {
            // Teil 1
            const blankOptions1 = document.getElementById('blankOptions1');
            const blankText1 = document.getElementById('blankText1');
            
            // إنشاء اقتراحات لكل فراغ
            blankOptions1.innerHTML = '<strong>Choose the correct word for each gap:</strong>';
            examData.blankText1.options.forEach((options, index) => {
                const row = document.createElement('div');
                row.className = 'blank-option-row';
                
                const number = document.createElement('div');
                number.className = 'blank-number';
                number.textContent = `${21 + index}:`;
                
                const buttons = document.createElement('div');
                buttons.className = 'option-buttons';
                
                options.forEach(option => {
                    const button = document.createElement('span');
                    button.className = 'option-btn';
                    button.textContent = option;
                    buttons.appendChild(button);
                });
                
                row.appendChild(number);
                row.appendChild(buttons);
                blankOptions1.appendChild(row);
            });
            
            // إنشاء النص بالفراغات
            let textWithBlanks1 = examData.blankText1.content;
            examData.blankText1.answers.forEach((answer, index) => {
                const blankNumber = 21 + index;
                textWithBlanks1 = textWithBlanks1.replace('________', 
                    `<span class="blank">______<span class="blank-answer hidden">${answer}</span></span>`);
            });
            blankText1.innerHTML = textWithBlanks1;

            // Teil 2
            const wordBank2 = document.getElementById('wordBank2');
            const blankText2 = document.getElementById('blankText2');
            
            // إنشاء بنك الكلمات
            wordBank2.innerHTML = '<strong>Words to choose from (each word can be used only once):</strong><br>';
            examData.blankText2.options.forEach(word => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'bank-word';
                wordSpan.textContent = word;
                wordBank2.appendChild(wordSpan);
                wordBank2.appendChild(document.createTextNode(' '));
            });
            
            // إنشاء النص بالفراغات
            let textWithBlanks2 = examData.blankText2.content;
            examData.blankText2.answers.forEach((answer, index) => {
                const blankNumber = 31 + index;
                textWithBlanks2 = textWithBlanks2.replace('________', 
                    `<span class="blank">______<span class="blank-answer hidden">${answer}</span></span>`);
            });
            blankText2.innerHTML = textWithBlanks2;
        }

        function setupEventListeners() {
            // أزرار التحكم
            document.getElementById('showAnswers').addEventListener('click', showAllAnswers);
            document.getElementById('hideAnswers').addEventListener('click', hideAllAnswers);
            
            // زر الوضع الليلي
            document.getElementById('themeToggle').addEventListener('click', toggleDarkMode);
        }

        function showAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                const letter = heading.dataset.letter;
                examData.texts.forEach(text => {
                    if (text.correctAnswer === letter) {
                        heading.classList.add('matched');
                    }
                });
            });
        }

        function hideAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                heading.classList.remove('matched');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('#themeToggle i');
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }
    </script>
</body>
</html>