<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SCHLAF ZUG - TEST B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 4px 8px rgba(33, 150, 243, 0.15);
            --shadow-hover: 0 6px 12px rgba(33, 150, 243, 0.25);
            --radius: 16px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            transition: var(--transition);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-align: left;
            direction: ltr;
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - في سطر واحد مع أزرار التحكم */
        .controls-container {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.98);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            border-bottom: 1px solid rgba(33, 150, 243, 0.1);
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dark-mode .controls-container {
            background: rgba(13, 71, 161, 0.98);
            border-bottom: 1px solid rgba(227, 242, 253, 0.1);
        }

        .theme-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            transition: var(--transition);
        }

        .theme-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-hover);
        }

        .answer-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .answer-btn {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            min-width: 180px;
            justify-content: center;
        }

        .answer-btn:hover {
            transform: translateY(-2px);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* المحتوى الرئيسي */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.1);
            margin-top: 1rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.98);
            border: 1px solid rgba(227, 242, 253, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 2.2rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* التصميم الخاص بالأسئلة */
        .section {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(33, 150, 243, 0.1);
            transition: var(--transition);
            text-align: left;
            direction: ltr;
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.1);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.5rem;
            margin-bottom: 1.2rem;
            padding-bottom: 0.6rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
            text-align: left;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .description {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            text-align: left;
        }

        .dark-mode .description {
            color: #B0BEC5;
        }

        .question {
            margin: 1.2rem 0;
            padding: 1.2rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border-left: 3px solid var(--primary);
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.08);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.6rem 0;
            padding: 0.8rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            text-align: left;
        }

        .dark-mode .option {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            animation: slideInUp 0.3s ease;
            text-align: left;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct-answer {
            background: rgba(76, 175, 80, 0.15);
            color: #2E7D32;
            border: 1px solid #4CAF50;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.25);
            color: #A5D6A7;
            border: 1px solid #81C784;
        }

        /* النصوص والعناوين */
        .text-content {
            line-height: 1.6;
            margin: 1.2rem 0;
            padding: 1.2rem;
            background: var(--white);
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            font-size: 1rem;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .dark-mode .text-content {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        /* Lesen Teil 1 - تصميم محسن */
        .headings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .heading-item {
            padding: 1rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            font-weight: 500;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .heading-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        /* Lesen Teil 3 - تصميم عرضي */
        .situations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .situation-item {
            padding: 1rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .situation-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .situation-number {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            display: block;
        }

        .dark-mode .situation-number {
            color: #90CAF9;
        }

        /* Teil 3 Ads - تصميم عرضي */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1rem;
            margin: 1.2rem 0;
        }

        .ad-item {
            padding: 1.2rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
            text-align: left;
        }

        .dark-mode .ad-item {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .ad-letter {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            display: block;
            font-size: 1.2rem;
        }

        .dark-mode .ad-letter {
            color: #90CAF9;
        }

        .ad-title {
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--text);
        }

        .dark-mode .ad-title {
            color: var(--light);
        }

        /* Sprachbausteine Teil 1 - مع الاقتراحات */
        .fill-blanks {
            margin: 1.2rem 0;
        }

        .blank-text {
            line-height: 1.8;
            margin: 1.2rem 0;
            font-size: 1.1rem;
            padding: 1.2rem;
            background: var(--white);
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .dark-mode .blank-text {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 5px;
            padding: 0.4rem 0.8rem;
            border-bottom: 2px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 6px;
            transition: var(--transition);
            position: relative;
            vertical-align: middle;
        }

        .dark-mode .blank {
            background: rgba(26, 35, 126, 0.8);
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.15);
            color: #2E7D32;
            border-color: #4CAF50;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.25);
            color: #A5D6A7;
            border-color: #81C784;
        }

        /* اقتراحات Sprachbausteine Teil 1 */
        .blank-options {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .blank-options {
            background: rgba(33, 150, 243, 0.1);
            border-color: rgba(227, 242, 253, 0.2);
        }

        .blank-option-row {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
            padding: 0.5rem;
            background: var(--white);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-option-row {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
        }

        .blank-number {
            font-weight: bold;
            color: var(--primary-dark);
            min-width: 40px;
            text-align: center;
        }

        .dark-mode .blank-number {
            color: #90CAF9;
        }

        .option-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .option-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background: var(--white);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .dark-mode .option-btn {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
            color: var(--light);
        }

        .option-btn:hover {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary);
        }

        /* Sprachbausteine Teil 2 - بنك الكلمات */
        .word-bank {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.8rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .word-bank {
            background: rgba(33, 150, 243, 0.1);
            border-color: rgba(227, 242, 253, 0.2);
        }

        .bank-word {
            padding: 0.6rem;
            background: var(--white);
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            text-align: center;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .dark-mode .bank-word {
            background: rgba(26, 35, 126, 0.8);
            border-color: #37474F;
            color: var(--light);
        }

        .bank-word:hover {
            background: rgba(33, 150, 243, 0.1);
            border-color: var(--primary);
        }

        .hidden {
            display: none;
        }

        /* تحسينات للهواتف */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
                margin: 0.5rem;
                margin-top: 0.5rem;
            }
            
            .controls-container {
                padding: 0.8rem 1rem;
                flex-direction: column;
                gap: 0.8rem;
            }
            
            .answer-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .answer-btn {
                min-width: 140px;
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
            
            .theme-btn {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .header h1 {
                font-size: 1.6rem;
            }
            
            .section {
                padding: 1rem;
                margin: 1rem 0;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .headings-grid,
            .situations-grid,
            .ads-grid {
                grid-template-columns: 1fr;
            }
            
            .blank {
                min-width: 80px;
                margin: 0 3px;
                padding: 0.3rem 0.6rem;
                font-size: 0.9rem;
            }
            
            .word-bank {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                gap: 0.6rem;
                padding: 0.8rem;
            }
            
            .option-buttons {
                gap: 0.3rem;
            }
            
            .option-btn {
                padding: 0.3rem 0.6rem;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.8rem;
                border-radius: 12px;
            }
            
            .header h1 {
                font-size: 1.4rem;
            }
            
            .page-subtitle {
                font-size: 0.95rem;
            }
            
            .section {
                padding: 0.8rem;
            }
            
            .question {
                padding: 1rem;
            }
            
            .blank-text {
                padding: 1rem;
                font-size: 1rem;
                line-height: 1.6;
            }
            
            .answer-btn {
                min-width: 120px;
                padding: 0.5rem 0.8rem;
                font-size: 0.85rem;
            }
        }

        /* تحسينات للأجهزة اللوحية */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                padding: 1.5rem;
            }
            
            .headings-grid,
            .situations-grid,
            .ads-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* تحسينات للأجهزة الكبيرة */
        @media (min-width: 1200px) {
            .container {
                padding: 2rem;
            }
        }

        /* تحسين قابلية القراءة للنصوص الطويلة */
        .long-text {
            line-height: 1.7;
            text-align: justify;
            hyphens: auto;
        }

        /* إزالة العناصر غير الضرورية لتحسين الأداء */
        .floating-elements,
        .premium-badge-header {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header Controls - في سطر واحد -->
    <div class="controls-container">
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">Show Answers</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">Hide Answers</span>
            </button>
        </div>
        
        <button class="theme-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">SCHLAF ZUG - TEST B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">Reading Comprehension - Part 1, 2 and 3</p>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Reading Part 1</h2>
            <p class="description" id="teil1Description">First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- العناوين سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div id="textsList">
                <!-- النصوص سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Reading Part 2</h2>
            <div class="text-content long-text" id="longText">
                <!-- النص الطويل سيتم إضافته بالجافاسكريبت -->
            </div>

            <div id="questionsList">
                <!-- الأسئلة سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 3 - تصميم عرضي محسن -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Reading Part 3</h2>
            <p class="description" id="teil3Description">First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- الوضعيات سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- الإعلانات سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Language Elements Part 1</h2>
            <div class="fill-blanks">
                <div class="blank-options" id="blankOptions1">
                    <!-- اقتراحات لكل فراغ -->
                </div>
                <div class="blank-text" id="blankText1">
                    <!-- النص بالفراغات -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Language Elements Part 2</h2>
            <div class="fill-blanks">
                <div class="word-bank" id="wordBank2">
                    <!-- بنك الكلمات -->
                </div>
                <div class="blank-text" id="blankText2">
                    <!-- النص بالفراغات -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // بيانات الأسئلة والإجابات - مأخوذة من SCHLAFZUG.html
        const examData = {
            headings: [
                {id: "a", text: "Für unterwegs: Leckereien im Zugrestaurant In der"},
                {id: "b", text: "Stadt der warmen Quellen"},
                {id: "c", text: "Eine Wanderung macht gute Laune"},
                {id: "d", text: "„Die Arbeit von Forschern erfordert weniger Zeit\""},
                {id: "e", text: "Naschen statt wegwerfen"},
                {id: "f", text: "Neues Thermalbad in Rom"},
                {id: "g", text: "Reisen: Die beliebtesten Thermalbäder"},
                {id: "h", text: "Klug durch Schlafen"},
                {id: "i", text: "Tiere Energiesparmodus"},
                {id: "j", text: "Licht aus dem Klassenzimmer"}
            ],
            
            texts: [
                {
                    id: "text1",
                    content: `Im Winter gehen Tiere in den Winterschlaf, um Energie zu sparen. Während des Winterschlafs verlangsamt sich ihr Stoffwechsel, und ihre Körpertemperatur sinkt. Dies ermöglicht es ihnen, über längere Zeiträume ohne Nahrung auszukommen. Zu den Tieren, die Winterschlaf halten, gehören Igel, Fledermäuse und Murmeltiere.`,
                    correctAnswer: "i",
                    correctAnswerText: "i) Tiere Energiesparmodus"
                },
                {
                    id: "text2", 
                    content: `Laut einer Studie der Universität Leipzig verbessert natürliches Licht die Lernfähigkeit von Schülern. Klassenzimmer mit viel Tageslicht tragen dazu bei, dass die Schüler wacher und aufmerksamer sind.`,
                    correctAnswer: "j",
                    correctAnswerText: "j) Licht aus dem Klassenzimmer"
                },
                {
                    id: "text3",
                    content: `Ein regelmäßiger Schlafrhythmus ist entscheidend für die Gesundheit. Unser Körper produziert während des Schlafs das Hormon Melatonin, das für die Regulierung des Schlaf-Wach-Rhythmus verantwortlich ist. Melatonin hilft dem Körper, sich zu entspannen und sorgt für eine erholsame Nacht. Ein gestörter Schlafrhythmus kann zu Gesundheitsproblemen führen.`,
                    correctAnswer: "h",
                    correctAnswerText: "h) Klug durch Schlafen"
                },
                {
                    id: "text4",
                    content: `In den letzten Jahren hat sich das nächtliche Wandern in der Natur zu einer beliebten Freizeitaktivität entwickelt. Gesundheitsexperten raten davon ab, diese Praxis zu verbieten, da sie positive Auswirkungen auf die körperliche und geistige Gesundheit hat. Das Wandern bei Nacht hilft, Stress abzubauen, die Sinne zu schärfen und die Verbindung zur Natur zu stärken. Darüber hinaus fördert es die Produktion von Melatonin, einem Hormon, das den Schlaf-Wach-Rhythmus reguliert, und hilft somit bei Schlafproblemen. Experten betonen, dass diese Art von Bewegung besonders wohltuend ist, solange sie sicher und in geeigneten Gebieten durchgeführt wird.`,
                    correctAnswer: "c",
                    correctAnswerText: "c) Eine Wanderung macht gute Laune"
                },
                {
                    id: "text5",
                    content: `Professor Dr. Thomas Münch von der Universität Freiburg führte eine Studie durch, die den Zusammenhang zwischen Arbeitszeiten, Tageslicht und der Gesundheit von Arbeitnehmern untersuchte. Die Studie zeigte, dass Menschen, die ihre Arbeitszeiten besser an den natürlichen Sonnenrhythmus anpassen, seltener an Schlafstörungen und chronischer Müdigkeit leiden. Zudem fördert der tägliche Fußweg zur Arbeit, besonders bei Tageslicht, nicht nur die körperliche Gesundheit, sondern verbessert auch die psychische Verfassung. Der Kontakt mit natürlichem Licht reguliert den Hormonhaushalt, insbesondere die Produktion von Melatonin und Serotonin, was für das Wohlbefinden entscheidend ist.`,
                    correctAnswer: "d",
                    correctAnswerText: "d) „Die Arbeit von Forschern erfordert weniger Zeit\""
                }
            ],

            longText: {
                content: `Nachtzüge wecken heute oft nostalgische Vorstellungen. Man denkt etwa an den Luxus des Orient Express, der seine meist gut betuchte Kundschaft innerhalb weniger Tage von Paris nach Istanbul brachte, an Landschaften, die an den Zugfenstern vorbeirauschen, und das sanfte Rattern eines Zuges, das einen in den Schlaf wiegt. Doch hält die Realität, was solche Bilder versprechen? Teilweise', meint die Studentin Sofia Osterhasen. Sie ist schon im Nachtzug von München nach Florenz, von Oslo nach Bergen und von Stockholm nach Kiruna gereist. Bei ihrer ersten Fahrt habe sie vor Aufregung nicht geschlafen, erzählt sie. Und auch sonst seien die Nächte im Zug oft unruhig, dafür sorgten etwa schnarchende Passagiere. Natürlich wäre Fliegen schneller und auf vielen Strecken sogar günstiger. Doch die lange Anreise gebe ihre Zeit, sich mit Mitreisenden zu unterhalten. „Die Leute erzählen während einer Zugfahrt viel aus ihrem Leben, man erfährt mehr als es bei Zufallsbekanntschaften oft der Fall ist. Das fasziniert mich", erklärt sie. Zutun und kamen völlig übermüdet am Zielort an Doch als sein jüngster Sohn die Augen öffnete, rief er: Das war meine beste Reise! Ein fahrendes Bett! Ich will jetzt immer nur noch Nachtzug fahren. Vor allem der Kinder wegen haben die Schneiders auch für den diesjährigen Urlaub eine Fahrt im Nachtzug gebucht. Dass die Nachtzüge, die durch Europa fahren, nicht immer sonderlich bequem sind, darüber wird häufig geklagt. Fahrgäste bemängeln, dass die Waggons teilweise sehr in die Jahre gekommen sind und nur wenige Annehmlichkeiten bieten. Ist vielleicht auch dies ein Grund, warum Geschäftsreisende diese Transportmöglichkeit nur selten in Betracht ziehen? „Das würde für mich keine große Rolle spielen", meint Florian Kirsch, Vertriebsleiter eines mittelständischen Unternehmens. Viel wichtiger sei der Faktor Zeit: Wer will schon zwei Nächte im Zug verbringen, bloß weil er einen Termin in einer anderen Stadt hat? Wenn Nachtzüge konkurrenzfähig sein wollen, müssen sie mehr Schnelligkeit bieten, erklärt Florian Kirsch. Er selbst nimmt für längere Geschäftsreisen ausschließlich das Flugzeug.`,
                questions: [
                    {
                        id: "q1",
                        question: "Sofia Osterhagen fährt gerne mit dem Nachtzug, weil",
                        options: [
                            "dieser im Vergleich zu Flugreisen oft billiger ist",
                            "man dort leicht mit anderen Fahrgästen ins Gespräch kommt",
                            "sie während der Fahrt meist gut schlafen kann"
                        ],
                        correctAnswer: "man dort leicht mit anderen Fahrgästen ins Gespräch kommt"
                    },
                    {
                        id: "q2",
                        question: "Die Deutsche Bahn",
                        options: [
                            "hat der Österreichischen Bundesbahn einige Züge abgekauft",
                            "möchte mehr Fahrten über Nacht anbieten",
                            "verzichtete aus ökonomischen Gründen auf eigene Nachtzüge"
                        ],
                        correctAnswer: "verzichtete aus ökonomischen Gründen auf eigene Nachtzüge"
                    },
                    {
                        id: "q3",
                        question: "Die Reise mit dem Nachtzug",
                        options: [
                            "empfand Tom Schneider insgesamt als erholsam",
                            "hat Tom Schneiders Sohn begeistert",
                            "möchte Tom Schneider nicht wiederholen"
                        ],
                        correctAnswer: "hat Tom Schneiders Sohn begeistert"
                    },
                    {
                        id: "q4",
                        question: "Florian Kirsch verzichtet auf längere Zugreisen, weil",
                        options: [
                            "er im Zug ungern arbeitet",
                            "er mit dem Flugzeug Zeit spart",
                            "es ihm an Bequemlichkeit fehlt"
                        ],
                        correctAnswer: "er mit dem Flugzeug Zeit spart"
                    },
                    {
                        id: "q5", 
                        question: "Die Züge des französischen Start-ups sollen",
                        options: [
                            "den Fahrgästen viel Privatsphäre bieten",
                            "vor allem eine finanzkräftige Zielgruppe ansprechen",
                            "zunächst Zielorte nördlich von Frankreich anfahren"
                        ],
                        correctAnswer: "den Fahrgästen viel Privatsphäre bieten"
                    }
                ]
            },

            // Lesen Teil 3 - البيانات المحدثة
            situations: [
                {
                    id: "11",
                    text: "Ein Bekannter ist ein paar Tage in Berlin und würde sich gerne verschiedene Kunstausstellungen ansehen.",
                    correctAnswer: "F"
                },
                {
                    id: "12",
                    text: "Eine Bekannte träumt davon, selbst einmal bei einem Film mitzuspielen.",
                    correctAnswer: "D"
                },
                {
                    id: "13",
                    text: "Ein Freund würde sich gerne einen Dokumentarfilm über Tiere ansehen.",
                    correctAnswer: "X"
                },
                {
                    id: "14",
                    text: "Eine Freundin sucht einen Nebenjob. Sie würde dabei gerne viel Zeit draußen verbringen.",
                    correctAnswer: "X"
                },
                {
                    id: "15",
                    text: "hr Cousin ist Student und sucht für die Sommermonate einen Nebenjob.",
                    correctAnswer: "K"
                },
                {
                    id: "16",
                    text: "Ihre achtjährige Nichte interessiert sich für Tiere und Natur. Sie möchten ihr zum Geburtstag ein Buch schenken.",
                    correctAnswer: "L"
                },
                {
                    id: "17",
                    text: "Sie möchten eine besondere Stadtführung in Berlin buchen.",
                    correctAnswer: "J"
                },
                {
                    id: "18",
                    text: "Sie möchten mit Freunden einen unterhaltsamen Film anschauen.",
                    correctAnswer: "A"
                },
                {
                    id: "19",
                    text: "Sie sind zu einer Kostüm-Party eingeladen und brauchen dafür etwas zum Anziehen.",
                    correctAnswer: "I"
                },
                {
                    id: "20",
                    text: "Sie würden gerne mit Freunden eine mehrtägige Stadttour machen und suchen ein Angebot.",
                    correctAnswer: "C"
                }
            ],

            ads: [
                {
                    id: "A",
                    title: "Das Comedy Filmfest tourt auch dieses Jahr durch Deutschland",
                    content: "In Berlin startet es am 14. August mit der belgischen Produktion „Schokolade und Pommes frites\". In dieser romantischen Komödie treffen zwei Charaktere aufeinander, die unterschiedlicher kaum sein könnten: Die zielstrebige, doch ein wenig schüchterne Marie hat sich mit einem Schokoladengeschäft ihren großen Traum verwirklicht. Alles läuft gut, bis auf der anderen Straßenseite der chaotische Lebenskünstler Michel einen Schnellimbiss eröffnet und Maries Leben reichlich durcheinanderwirbelt. „Schokolade und Pommes frites\": 14. August, 20 Uhr, Filmtheater Friedrichshain"
                },
                {
                    id: "B",
                    title: "Als die Bilder laufen lernten",
                    content: "Dieser Band lädt Sie ein, eine bewegte Kinoepoche zu entdecken. In den Jahren von 1895 bis 1930 entwickelte sich das Kino in atemberaubendem Tempo zum Unterhaltungsmedium schlechthin. Autorin Greta Valentino geht zurück bis zu den ersten Filmen der Brüder Lumière und den Anfängen des Westerns und taucht anschließend ein in die schillernden 1920er Jahre, als der Stummfilm seine goldene Ära feierte und Filmpaläste wie Pilze aus dem Boden schossen. Die Autorin studierte Kunstgeschichte in Paris und Amsterdam. Sie veröffentlichte Bücher sowie zahlreiche Artikel über Kunst und Kino."
                },
                {
                    id: "C",
                    title: "Berlin erleben",
                    content: "Unsere Reise führt Sie in eine der abwechslungsreichsten Städte Deutschlands: Berlin. Mit historischen Bauwerken und Museen, breiten Prachtstraßen und Einkaufsmeilen sowie weitläufigen Parks und Gärten hat die Hauptstadt für jeden etwas zu bieten. Reisen Sie bequem mit der Deutschen Bahn und verbringen Sie aufregende Tage in Berlin. Übernachtung mit Frühstück im Hotel. Dauer: ab 4 Tage (Verlängerung möglich) Preis: ab 437 Euro pro Person im Doppelzimmer inklusive An- und Abreise mit der Deutschen Bahn Mehr Infos unter: www.bergmann-reisen.info."
                },
                {
                    id: "D",
                    title: "Berlin Gendarmenmarkt",
                    content: "Im März beginnen die Dreharbeiten für den Film „Berlin Gendarmenmarkt\". Erzählt wird die Geschichte der sechzehnjährigen Ida, die Jugend und Erwachsenwerten im Berlin der Goldenen Zwanziger erlebt und von einer großen Karriere auf der Theaterbühne träumt. Die Romanvorlage für den Film lieferte die Schriftstellerin Marie Franck. Für kleinere Filmrollen oder als Komparsen werden noch Mitwirkende jeden Alters gesucht. Die Gage beträgt 75 € pro Drehtag. Bewerbungsschluss ist der 16. November. Infos und Bewerbung unter: www.film-gendarmenmarkt.info/casting"
                },
                {
                    id: "E",
                    title: "Berlin in den Zwanziger Jahren",
                    content: "Dreigroschenoper, Bubikopf, Dada, Bauhausarchitektur. Dieser Bildband erweckt das Berlin in den 1920ern wieder zum Leben. In dieser Dekade war Berlin eine moderne, von Fortschritt und Freiheit berauschte Weltstadt, die für Künstler und Intellektuelle zum Sehnsuchtsort wurde. Autor Gereon Kutscher nimmt Sie mit auf einen Streifzug durch eine Epoche der kulturellen Blüte und der Lebenslust. Gereon Kutscher: Berlin in den Zwanziger Jahren, Hardcover, 126 Seiten, 28 €"
                },
                {
                    id: "F",
                    title: "Eine Karte, 30 Häuser",
                    content: "Ob Meisterwerke der Kunst, archäologische Schätze aus sechs Jahrtausenden oder technische Errungenschaften – das alles finden Sie in den Berliner Museen. Mit dem Museumspass öffnen sich Ihnen die Türen von über 30 Häusern, darunter die Alte Nationalgalerie, das Pergamonmuseum, das Museum für Naturkunde und die Neue Nationalgalerie. An drei aufeinanderfolgenden Tagen haben Sie damit freien Eintritt. Preis: 29 €, ermäßigt 14,50 € Ticket hier online kaufen: https://shop.nmg.museum"
                },
                {
                    id: "G",
                    title: "Feiern wie in den Goldenen Zwanzigern",
                    content: "Ein ausgelassenes Lebensgefühl und rauschende Nächte. So stellt man sich die 1920er Jahre vor, an die Filme wie „Der große Gatsby\" und Serien wie „Babylon Berlin\" immer wieder erinnern. Gehen Sie auf eine glamouröse Zeitreise und lassen Sie diese Ära wiederauferstehen. Wir haben dafür die passende Kleidung für Sie. In unserem Online-Shop finden Sie alles, was Sie für einen glänzenden Auftritt auf einer Motroparty brauchen. Paillettenkleider und Kopfschmuck für Damen, Westen und Anzüge für Herren und Accessoires sowie Dekoartikel. www.golden20.com"
                },
                {
                    id: "H",
                    title: "Das etwas gemütlichere Berlin",
                    content: "Der wenig bekannte Berliner Stadtteil Friedenau ist bis heute eher ein Geheimtipp. Das Viertel besticht durch prächtig geschmückte Wohnhäuser, kleine Villen und eine bunt gemischte Gastronomie. Kommen Sie mit auf eine kulinarisch-kulturelle Führung durch das charmante, ruhige Friedenau. Erfahren Sie mehr über die berühmten Gesichter dieses Stadtviertels, entdecken Sie wunderschöne Altbauten und lernen Sie die beeindruckenden Goerz-Höfe kennen. Unsere erfahrenen Stadtführer zeigen Ihnen außerdem spannende Orte zum Genießen, zum Beispiel ein italienisches Café, eine koreanische Snack-Bar und ein marokkanisches Bistro. 3 Stunden, ca. 3 km zu Fuß Preis: 39 €, ermäßigt 20 € Anmeldung unter: www.friedenau-touren.net"
                },
                {
                    id: "I",
                    title: "Feiern wie in den Goldenen Zwanzigern",
                    content: "Ein ausgelassenes Lebensgefühl und rauschende Nächte. So stellt man sich die 1920er Jahre vor, an die Filme wie „Der große Gatsby\" und Serien wie „Babylon Berlin\" immer wieder erinnern. Gehen Sie auf eine glamourösoe Zeitreise und lassen Sie diese Ära wiederauferstehen. Wir haben dafür die passende Kleidung für Sie. In unserem Online-Shop finden Sie alles, was Sie für einen glänzenden Auftritt auf einer Mottoparty brauchen. Paillettenkleider und Kopfschmuck für Damen, Westen und Anzüge für Herren und Accessoires sowie Dekoartikel. www.golden20.com"
                },
                {
                    id: "J",
                    title: "Das etwas gemütlichere Berlin",
                    content: "Der wenig bekannte Berliner Stadtteil Friedenau ist bis heute eher ein Geheimtipp. Das Viertel besticht durch prächtig geschmückte Wohnhäuser, kleine Villen und eine bunt gemischte Gastronomie. Kommen Sie mit auf eine kulinarisch-kulturelle Führung durch das charmante, ruhige Friedenau. Erfahren Sie mehr über die berühmten Gesichter dieses Stadtviertels, entdecken Sie wunderschöne Altbauten und lernen Sie die beeindruckenden Goerz Höfe kennen. Unsere erfahrenen Stadtführer zeigen Ihnen außerdem spannende Orte zum Genießen, zum Beispiel ein italienisches Café, eine koreanische Snack-Bar und ein marokkanisches Bistro. 3 Stunden, ca. 3 km zu Fuß Preis: 39 €, ermäßigt 20 € Anmeldung unter: www.friedenau-touren.net"
                },
                {
                    id: "K",
                    title: "Sie lieben Filme?",
                    content: "Dann machen Sie doch das Kino zu Ihrem Arbeitsplatz und werden Sie Teil unseres Teams! Das Metropolis Filmtheater Altenberg sucht eine Aushilfe als Urlaubsvertretung für die Monate Juli und August, 25 Stunden pro Woche. Zu Ihren Aufgaben gehören u. a. der Verkauf von Kinokarten, Popcorn und Getränken sowie die Einlasskontrolle und die Vorbereitung der Säle. Sie sind volljährig, zuverlässig und bereit, auch am Abend oder Wochenende zu arbeiten? Dann freuen wir uns auf Ihre Bewerbung mit kurzem Anschreiben und Lebenslauf per E-Mail. Metropolis Kino Altenberg info@metropolis-altenberg.net"
                },
                {
                    id: "L",
                    title: "Wer hat die Kokosnuss geklaut?",
                    content: "Bei dieser Tour geht es ins Affenhaus! Beobachte Gorillas, Paviane und Co. bei der Futtersuche und finde heraus, was sie am liebsten fressen. Natürlich bleibt noch Zeit, bei anderen Zoo-Bewohnern vorbeizuschauen. Geh zusammen mit einem Guide auf eine besondere Entdeckungstour durch den Zoo Berlin. Spannende Tier- Fakten und exklusive Einblicke in den Zoo-Alltag warten auf dich! Führung für Kinder ab 8 Jahren. Zoologischer Garten Berlin Hardenbergplatz 8, 10787 Berlin Eintritt: Erwachsene 17,50 €, Kinder 9 €"
                }
            ],

            // Sprachbausteine Teil 1 - من SCHLAFZUG.html
            blankText1: {
                content: `Lieber Julian,

wie geht es dir? Ich hoffe, du hattest eine schöne Reise und ________ dir gut erholen.

Ich ________ ja auch gerne mal wieder ans Meer fahren, aber im Moment habe ich leider keine Zeit ________ Urlaub. Wie du dir bestimmt vorstellen kannst, war ich in den letzten Wochen vor allem mit meinem Umzug beschäftigt. Du weißt ja, dass ich zuerst ziemlich skeptisch war. Nach so ________ Jahren in Berlin konnte ich mir gar nicht mehr vorstellen, mich in einer kleinen Stadt wie Bamberg niederzulassen. Bamberg hat nur rund 77.000 Einwohner, aber langweilig ist es hier trotzdem nicht, wie ich inzwischen festgestellt habe. Mittlerweile fühle ich mich hier sogar richtig wohl. Die Stadt hat wirklich viel zu bieten. Es gibt jahrhundertealte Sehenswürdigkeiten in Hülle und Fülle, und in der Altstadt ________ mir besonders die schönen Fachwerkhäuser, die überwiegend aus dem Mittelalter stammen. Ich gehe oft durch die Fußgängerzone, ________ dort gibt es viele kleine Läden, Cafés und Restaurants mit typisch fränkischen Spezialitäten. Ich glaube, dir würde es hier auch gefallen.

________ du willst, zeige ich dir gerne mal die Stadt. Hättest du vielleicht Lust, mich im nächsten Monat zu besuchen? ________ ist bei mir auch der Umzugsstress vorbei. Im Moment steht noch eine große Anzahl nicht ________ Kisten in meinem Wohnzimmer, die ausgepackt werden müssen. Mit meiner neuen Wohnung habe ich übrigens auch Glück gehabt, ________ sie geräumig und zentral gelegen ist. Wir können ja mal telefonieren, dann erzähle ich dir mehr.

Liebe Grüße,

Anna`,
                options: [
                    ["konntest", "musstest", "solltest"],      // 21
                    ["sollte", "würde", "wurde"],           // 22
                    ["für", "nach", "um"],         // 23
                    ["lange", "vielen", "wenige"], // 24
                    ["gefällt", "schaut", "finde"], // 25
                    ["denn", "obwohl", "weil"],          // 26
                    ["Als", "Dass", "Wenn"], // 27
                    ["Dann", "Wann", "Während"],                 // 28
                    ["ausgeräumt", "geschlossen", "vergessen"], // 29
                    ["aber", "denn", "weil"]                // 30
                ],
                answers: ["konntest", "würde", "für", "vielen", "gefällt", "denn", "Wenn", "Dann", "ausgeräumt", "weil"]
            },

            // Sprachbausteine Teil 2 - من SCHLAFZUG.html
            blankText2: {
                content: `Es ist erst 6 Uhr morgens, und draußen herrscht noch Dunkelheit... ________ in der riesigen, hell erleuchteten Halle, in der sich Kisten mit Obst und Gemüse meterhoch stapeln, wird schon lange gearbeitet. Vor ein paar Stunden war hier noch viel mehr Betrieb », sagt Jens Rogall. Er ________ einen Berliner Großmarkt, auf dem Einkäufer von Supermärkten, Geschäften oder Restaurants frisches Obst und Gemüse besorgen.

Die Ware hat oft schon eine lange Reise zurückgelegt, bis sie auf dem Großmarkt ________. Die meisten Früchte werden ________ auf dem Land-, Luft- oder Seeweg aus wärmeren Ländern nach Deutschland transportiert. Wenn die Ware per Schiff nach Europa gebracht wird, kommt sie in großen Seehäfen wie Rotterdam oder Hamburg an. Von dort aus geht es mit dem Lastwagen weiter. Auf seinem Weg ________ das empfindliche Obst und Gemüse keinesfalls Schaden nehmen.,, Nichts ist schlimmer ________ verdorbene Ware >>>, sagt Rogall.

Auf dem Großmarkt schauen sich die Käufer alles ________ an. Für makellose Salatköpfe, Beeren und Kräuter zahlen sie höhere Preise, krumme Gurken oder verwachsene Kartoffeln ________ sie dagegen günstiger. Diese werden später nicht in Geschäften zum Verkauf angeboten, ________ direkt verarbeitet. „Es ist egal, wie Gurken aussehen, die ohnehin im Fertigsalat landen », erklärt Rogall. Wenn die Preisverhandlungen erfolgreich ________ sind, werden die Paletten voller Obst und Gemüse hinaus zu den Lieferwagen gebracht. Die Fahrer müssen dann zügig zu den Geschäften und Restaurants fahren, um die Ware abzuliefern.`,
                options: ["doch", "Als", "SICHER", "Leitet", "Genau", "SONDERN", "Ankommt", "Erwerben", "MVON", "Nämlich", "Sondern", "WIE", "Darf", "Abgeschlossen", "ZU"],
                answers: ["doch", "Leitet", "Ankommt", "Nämlich", "Darf", "Als", "Genau", "Erwerben", "Sondern", "Abgeschlossen"]
            }
        };

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
        });

        let isDarkMode = false;

        function initializePage() {
            // تحميل الإعدادات المحفوظة
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            
            if (savedDarkMode) {
                toggleDarkMode();
            }
            
            // تهيئة الأجزاء
            initializeTeil1();
            initializeTeil2();  
            initializeTeil3();
            initializeSprachbausteine();
        }

        function initializeTeil1() {
            const headingsList = document.getElementById('headingsList');
            const textsList = document.getElementById('textsList');

            headingsList.innerHTML = '';
            textsList.innerHTML = '';

            // إضافة العناوين
            examData.headings.forEach((heading) => {
                const headingItem = document.createElement('div');
                headingItem.className = 'heading-item';
                headingItem.innerHTML = `
                    <strong>${heading.id})</strong> ${heading.text}
                `;
                headingItem.dataset.letter = heading.id;
                headingsList.appendChild(headingItem);
            });

            // إضافة النصوص
            examData.texts.forEach((text, index) => {
                const textItem = document.createElement('div');
                textItem.className = 'question';
                textItem.innerHTML = `
                    <h3>Text ${String.fromCharCode(97 + index).toUpperCase()}</h3>
                    <div class="text-content">${text.content}</div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer:</strong> ${text.correctAnswerText}
                    </div>
                `;
                textsList.appendChild(textItem);
            });
        }

        function initializeTeil2() {
            const longText = document.getElementById('longText');
            const questionsList = document.getElementById('questionsList');

            longText.innerHTML = `<div class="text-content long-text">${examData.longText.content}</div>`;

            questionsList.innerHTML = '';
            examData.longText.questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question';
                questionItem.innerHTML = `
                    <h3>Question ${index + 6}</h3>
                    <p><strong>${question.question}</strong></p>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option" data-index="${optIndex}">
                                ${String.fromCharCode(97 + optIndex)}) ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer:</strong> ${question.correctAnswer}
                    </div>
                `;
                questionsList.appendChild(questionItem);
            });
        }

        function initializeTeil3() {
            const situationsList = document.getElementById('situationsList');
            const adsList = document.getElementById('adsList');

            situationsList.innerHTML = '';
            examData.situations.forEach((situation) => {
                const situationItem = document.createElement('div');
                situationItem.className = 'situation-item';
                situationItem.innerHTML = `
                    <span class="situation-number">${situation.id})</span>
                    ${situation.text}
                `;
                situationsList.appendChild(situationItem);
            });

            adsList.innerHTML = '';
            examData.ads.forEach(ad => {
                const adItem = document.createElement('div');
                adItem.className = 'ad-item';
                adItem.innerHTML = `
                    <span class="ad-letter">${ad.id})</span>
                    <div class="ad-title">${ad.title}</div>
                    <div class="text-content">${ad.content}</div>
                    <div class="answer hidden correct-answer">
                        <strong>Correct answer for:</strong> ${getSituationsForAd(ad.id)}
                    </div>
                `;
                adsList.appendChild(adItem);
            });
        }

        function getSituationsForAd(adId) {
            const situations = examData.situations
                .filter(s => s.correctAnswer === adId)
                .map(s => s.id);
            
            if (situations.length === 0) {
                return "No matching situation";
            }
            return situations.join(", ");
        }

        function initializeSprachbausteine() {
            // Teil 1
            const blankOptions1 = document.getElementById('blankOptions1');
            const blankText1 = document.getElementById('blankText1');
            
            // إنشاء اقتراحات لكل فراغ
            blankOptions1.innerHTML = '<strong>Choose the correct word for each gap:</strong>';
            examData.blankText1.options.forEach((options, index) => {
                const row = document.createElement('div');
                row.className = 'blank-option-row';
                
                const number = document.createElement('div');
                number.className = 'blank-number';
                number.textContent = `${21 + index}:`;
                
                const buttons = document.createElement('div');
                buttons.className = 'option-buttons';
                
                options.forEach(option => {
                    const button = document.createElement('span');
                    button.className = 'option-btn';
                    button.textContent = option;
                    buttons.appendChild(button);
                });
                
                row.appendChild(number);
                row.appendChild(buttons);
                blankOptions1.appendChild(row);
            });
            
            // إنشاء النص بالفراغات
            let textWithBlanks1 = examData.blankText1.content;
            examData.blankText1.answers.forEach((answer, index) => {
                const blankNumber = 21 + index;
                textWithBlanks1 = textWithBlanks1.replace('________', 
                    `<span class="blank">______<span class="blank-answer hidden">${answer}</span></span>`);
            });
            blankText1.innerHTML = textWithBlanks1;

            // Teil 2
            const wordBank2 = document.getElementById('wordBank2');
            const blankText2 = document.getElementById('blankText2');
            
            // إنشاء بنك الكلمات
            wordBank2.innerHTML = '<strong>Words to choose from (each word can be used only once):</strong><br>';
            examData.blankText2.options.forEach(word => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'bank-word';
                wordSpan.textContent = word;
                wordBank2.appendChild(wordSpan);
                wordBank2.appendChild(document.createTextNode(' '));
            });
            
            // إنشاء النص بالفراغات
            let textWithBlanks2 = examData.blankText2.content;
            examData.blankText2.answers.forEach((answer, index) => {
                const blankNumber = 31 + index;
                textWithBlanks2 = textWithBlanks2.replace('________', 
                    `<span class="blank">______<span class="blank-answer hidden">${answer}</span></span>`);
            });
            blankText2.innerHTML = textWithBlanks2;
        }

        function setupEventListeners() {
            // أزرار التحكم
            document.getElementById('showAnswers').addEventListener('click', showAllAnswers);
            document.getElementById('hideAnswers').addEventListener('click', hideAllAnswers);
            
            // زر الوضع الليلي
            document.getElementById('themeToggle').addEventListener('click', toggleDarkMode);
        }

        function showAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                const letter = heading.dataset.letter;
                examData.texts.forEach(text => {
                    if (text.correctAnswer === letter) {
                        heading.classList.add('matched');
                    }
                });
            });
        }

        function hideAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                heading.classList.remove('matched');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('#themeToggle i');
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }
    </script>
</body>
</html>